import{r as o,j as e,a as x}from"./index-0vCv6Szn.js";import{L as h}from"./loading-BOYJiSuX.js";const j=()=>{const[n,d]=o.useState(null),[u,c]=o.useState(null),[a,s]=o.useState({status:null,message:null}),[l,m]=o.useState(!1),p=new URLSearchParams(window.location.search).get("token"),b=async t=>{if(t.preventDefault(),n!==u){d(null),c(null),s({status:"fail",message:"New password and confirm password do not match."});return}const g={newpassword:n,token:p};try{m(!0);const r=await x.put("/api/user/verifypasswordreset",g);s({status:r.data.status,message:r.data.message}),setTimeout(()=>{s(null)},2e3)}catch(r){const i=r.response.data;s({status:i.status,message:i.message}),setTimeout(()=>{s({status:null,message:null})},2e3)}};return e.jsxs("div",{className:"bg-[var(--bg)] flex flex-col  w-70 h-90 mt-10 p-5 m-auto rounded-2xl border  border-[var(--border)]",children:[e.jsx("h1",{className:"text-[var(--text)] mb-4 font-bold",children:"Enter new password"}),e.jsxs("form",{className:"flex flex-col gap-2 mb-4",onSubmit:b,children:[e.jsx("input",{className:"bg-[var(--bg-light)] text-[var(--text-muted)] h-10 p-1 mb-2 rounded-md border border-[var(--border)]",type:"password",value:n||"",required:!0,minLength:8,placeholder:"Password",onChange:t=>{d(t.target.value)}}),e.jsx("input",{className:"bg-[var(--bg-light)] text-[var(--text-muted)] h-10 p-1 mb-4 rounded-md border border-[var(--border)]",type:"password",value:u||"",required:!0,minLength:8,placeholder:"Confirm password",onChange:t=>{c(t.target.value)}}),e.jsxs("button",{className:"bg-[var(--primary)] text-[var(--text-btn)] w-35 h-10 self-center rounded-md flex justify-center items-center cursor-pointer  disabled:opacity-80 disabled:cursor-not-allowed",type:"submit",disabled:l,children:[l&&e.jsx(h,{color1:"bg-black",color2:"bg-black",color3:"bg-black",height:"h-2",width:"w-2"}),!l&&e.jsx("p",{children:"Reset password"})]})]}),a&&a.message&&e.jsx("p",{className:`${a.status==="success"?"text-green-400":"text-red-400"} text-center`,children:a.message})]})};export{j as default};
